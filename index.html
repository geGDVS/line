<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>直线方程可视化与转换工具</title>
    <!-- 外部资源 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    <!-- 本地资源 -->
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-50 min-h-screen font-sans text-dark">
    <!-- 导航栏 -->
    <nav class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fa fa-line-chart text-primary text-2xl"></i>
                <h1 class="text-xl font-bold text-primary">直线方程工具</h1>
            </div>
            <div class="hidden md:flex items-center space-x-6">
                <a href="#visualization" class="text-secondary hover:text-primary transition-colors">可视化</a>
                <a href="#conversion" class="text-secondary hover:text-primary transition-colors">方程转换</a>
                <a href="#formulas" class="text-secondary hover:text-primary transition-colors">公式参考</a>
            </div>
            <button class="md:hidden text-secondary text-xl">
                <i class="fa fa-bars"></i>
            </button>
        </div>
    </nav>

    <main class="container mx-auto px-4 py-8">
        <!-- 介绍区域 -->
        <section class="mb-12 text-center">
            <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4 text-dark">直线方程可视化与代数转换</h2>
            <p class="text-secondary max-w-3xl mx-auto">
                本工具支持斜截式、点斜式、两点式、截距式、点方向式、点法向式和一般式的相互转换，
                直观展示直线图形，帮助理解不同方程形式的代数关系。
            </p>
        </section>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- 左侧：输入区域 -->
            <div class="lg:col-span-1">
                <div class="bg-white rounded-lg p-6 card-shadow">
                    <h3 class="text-lg font-semibold mb-4 flex items-center">
                        <i class="fa fa-pencil-square-o text-primary mr-2"></i>
                        直线参数输入
                    </h3>
                    
                    <!-- 输入选项卡 -->
                    <div class="mb-4 border-b overflow-x-auto">
                        <ul class="flex flex-wrap -mb-px whitespace-nowrap" id="inputTabs">
                            <li class="mr-2">
                                <button class="inline-block py-2 px-4 text-primary border-b-2 border-primary font-medium" data-tab="slopeIntercept">斜截式</button>
                            </li>
                            <li class="mr-2">
                                <button class="inline-block py-2 px-4 text-secondary border-b-2 border-transparent hover:text-primary hover:border-primary/30" data-tab="pointSlope">点斜式</button>
                            </li>
                            <li class="mr-2">
                                <button class="inline-block py-2 px-4 text-secondary border-b-2 border-transparent hover:text-primary hover:border-primary/30" data-tab="twoPoints">两点式</button>
                            </li>
                            <li class="mr-2">
                                <button class="inline-block py-2 px-4 text-secondary border-b-2 border-transparent hover:text-primary hover:border-primary/30" data-tab="intercept">截距式</button>
                            </li>
                            <li class="mr-2">
                                <button class="inline-block py-2 px-4 text-secondary border-b-2 border-transparent hover:text-primary hover:border-primary/30" data-tab="direction">点方向式</button>
                            </li>
                            <li class="mr-2">
                                <button class="inline-block py-2 px-4 text-secondary border-b-2 border-transparent hover:text-primary hover:border-primary/30" data-tab="normal">点法向式</button>
                            </li>
                            <li>
                                <button class="inline-block py-2 px-4 text-secondary border-b-2 border-transparent hover:text-primary hover:border-primary/30" data-tab="general">一般式</button>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- 斜截式输入 -->
                    <div id="slopeInterceptTab" class="input-tab-content">
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-secondary mb-1">斜率 (m)</label>
                                <input type="number" id="slope" class="w-full px-3 py-2 border border-gray-300 rounded-md input-focus" value="2" step="0.1">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-secondary mb-1">y轴截距 (b)</label>
                                <input type="number" id="intercept" class="w-full px-3 py-2 border border-gray-300 rounded-md input-focus" value="1" step="0.1">
                            </div>
                            <div class="text-sm text-gray-500">
                                方程形式: y = mx + b
                            </div>
                        </div>
                    </div>
                    
                    <!-- 点斜式输入 -->
                    <div id="pointSlopeTab" class="input-tab-content hidden">
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-secondary mb-1">斜率 (m)</label>
                                <input type="number" id="psSlope" class="w-full px-3 py-2 border border-gray-300 rounded-md input-focus" value="2" step="0.1">
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-secondary mb-1">点 X (x₀)</label>
                                    <input type="number" id="px0" class="w-full px-3 py-2 border border-gray-300 rounded-md input-focus" value="1" step="0.1">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-secondary mb-1">点 Y (y₀)</label>
                                    <input type="number" id="py0" class="w-full px-3 py-2 border border-gray-300 rounded-md input-focus" value="3" step="0.1">
                                </div>
                            </div>
                            <div class="text-sm text-gray-500">
                                方程形式: y - y₀ = m(x - x₀)
                            </div>
                        </div>
                    </div>
                    
                    <!-- 两点式输入 -->
                    <div id="twoPointsTab" class="input-tab-content hidden">
                        <div class="space-y-4">
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-secondary mb-1">点1 X (x₁)</label>
                                    <input type="number" id="x1" class="w-full px-3 py-2 border border-gray-300 rounded-md input-focus" value="1" step="0.1">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-secondary mb-1">点1 Y (y₁)</label>
                                    <input type="number" id="y1" class="w-full px-3 py-2 border border-gray-300 rounded-md input-focus" value="3" step="0.1">
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-secondary mb-1">点2 X (x₂)</label>
                                    <input type="number" id="x2" class="w-full px-3 py-2 border border-gray-300 rounded-md input-focus" value="2" step="0.1">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-secondary mb-1">点2 Y (y₂)</label>
                                    <input type="number" id="y2" class="w-full px-3 py-2 border border-gray-300 rounded-md input-focus" value="5" step="0.1">
                                </div>
                            </div>
                            <div class="text-sm text-gray-500">
                                方程形式: (y-y₁)/(y₂-y₁) = (x-x₁)/(x₂-x₁)
                            </div>
                        </div>
                    </div>
                    
                    <!-- 截距式输入 -->
                    <div id="interceptTab" class="input-tab-content hidden">
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-secondary mb-1">x轴截距 (a)</label>
                                <input type="number" id="xIntercept" class="w-full px-3 py-2 border border-gray-300 rounded-md input-focus" value="-0.5" step="0.1">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-secondary mb-1">y轴截距 (b)</label>
                                <input type="number" id="yIntercept" class="w-full px-3 py-2 border border-gray-300 rounded-md input-focus" value="1" step="0.1">
                            </div>
                            <div class="text-sm text-gray-500">
                                方程形式: x/a + y/b = 1
                            </div>
                        </div>
                    </div>
                    
                    <!-- 点方向式输入 -->
                    <div id="directionTab" class="input-tab-content hidden">
                        <div class="space-y-4">
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-secondary mb-1">定点 X (x₀)</label>
                                    <input type="number" id="dirX0" class="w-full px-3 py-2 border border-gray-300 rounded-md input-focus" value="1" step="0.1">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-secondary mb-1">定点 Y (y₀)</label>
                                    <input type="number" id="dirY0" class="w-full px-3 py-2 border border-gray-300 rounded-md input-focus" value="3" step="0.1">
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-secondary mb-1">方向向量 X (u)</label>
                                    <input type="number" id="dirU" class="w-full px-3 py-2 border border-gray-300 rounded-md input-focus" value="1" step="0.1">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-secondary mb-1">方向向量 Y (v)</label>
                                    <input type="number" id="dirV" class="w-full px-3 py-2 border border-gray-300 rounded-md input-focus" value="2" step="0.1">
                                </div>
                            </div>
                            <div class="text-sm text-gray-500">
                                方程形式: (x-x₀)/u = (y-y₀)/v
                            </div>
                        </div>
                    </div>
                    
                    <!-- 点法向式输入 -->
                    <div id="normalTab" class="input-tab-content hidden">
                        <div class="space-y-4">
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-secondary mb-1">定点 X (x₀)</label>
                                    <input type="number" id="norX0" class="w-full px-3 py-2 border border-gray-300 rounded-md input-focus" value="1" step="0.1">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-secondary mb-1">定点 Y (y₀)</label>
                                    <input type="number" id="norY0" class="w-full px-3 py-2 border border-gray-300 rounded-md input-focus" value="3" step="0.1">
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-secondary mb-1">法向量 X (a)</label>
                                    <input type="number" id="norA" class="w-full px-3 py-2 border border-gray-300 rounded-md input-focus" value="2" step="0.1">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-secondary mb-1">法向量 Y (b)</label>
                                    <input type="number" id="norB" class="w-full px-3 py-2 border border-gray-300 rounded-md input-focus" value="-1" step="0.1">
                                </div>
                            </div>
                            <div class="text-sm text-gray-500">
                                方程形式: a(x-x₀) + b(y-y₀) = 0
                            </div>
                        </div>
                    </div>
                    
                    <!-- 一般式输入 -->
                    <div id="generalTab" class="input-tab-content hidden">
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-secondary mb-1">系数 A</label>
                                <input type="number" id="genA" class="w-full px-3 py-2 border border-gray-300 rounded-md input-focus" value="2" step="0.1">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-secondary mb-1">系数 B</label>
                                <input type="number" id="genB" class="w-full px-3 py-2 border border-gray-300 rounded-md input-focus" value="-1" step="0.1">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-secondary mb-1">常数项 C</label>
                                <input type="number" id="genC" class="w-full px-3 py-2 border border-gray-300 rounded-md input-focus" value="1" step="0.1">
                            </div>
                            <div class="text-sm text-gray-500">
                                方程形式: Ax + By + C = 0 (A、B不同时为0)
                            </div>
                        </div>
                    </div>
                    
                    <button id="calculateBtn" class="mt-6 w-full bg-primary text-white py-2 px-4 rounded-md btn-hover flex justify-center items-center">
                        <i class="fa fa-calculator mr-2"></i>
                        计算并显示直线
                    </button>
                </div>
                
                <!-- 快速示例 -->
                <div class="bg-white rounded-lg p-6 card-shadow mt-6">
                    <h3 class="text-lg font-semibold mb-4 flex items-center">
                        <i class="fa fa-lightbulb-o text-warning mr-2"></i>
                        快速示例
                    </h3>
                    <div class="grid grid-cols-2 gap-3">
                        <button class="example-btn py-2 px-3 border border-gray-200 rounded-md hover:bg-primary/5 transition-colors" data-example="1">
                            y = 2x + 1
                        </button>
                        <button class="example-btn py-2 px-3 border border-gray-200 rounded-md hover:bg-primary/5 transition-colors" data-example="2">
                            y = -x + 3
                        </button>
                        <button class="example-btn py-2 px-3 border border-gray-200 rounded-md hover:bg-primary/5 transition-colors" data-example="3">
                            垂直直线 x=2
                        </button>
                        <button class="example-btn py-2 px-3 border border-gray-200 rounded-md hover:bg-primary/5 transition-colors" data-example="4">
                            水平直线 y=-1
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- 中间：可视化区域 -->
            <div class="lg:col-span-2">
                <div id="visualization" class="bg-white rounded-lg p-6 card-shadow mb-8">
                    <h3 class="text-lg font-semibold mb-4 flex items-center">
                        <i class="fa fa-area-chart text-primary mr-2"></i>
                        直线可视化
                    </h3>
                    <div class="relative">
                        <canvas id="lineChart" class="w-full h-[400px]"></canvas>
                        <!-- 坐标信息显示 -->
                        <div id="coordInfo" class="absolute top-4 right-4 bg-white/90 p-2 rounded-md text-sm shadow-md hidden">
                            坐标: (<span id="coordX">0</span>, <span id="coordY">0</span>)
                        </div>
                    </div>
                </div>
                
                <!-- 右侧：转换结果区域 -->
                <div id="conversion" class="bg-white rounded-lg p-6 card-shadow">
                    <h3 class="text-lg font-semibold mb-4 flex items-center">
                        <i class="fa fa-exchange text-primary mr-2"></i>
                        方程形式转换
                    </h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        <!-- 转换结果卡片 -->
                        <div class="border border-gray-200 rounded-lg p-4 hover:border-primary/50 transition-colors">
                            <h4 class="font-medium text-primary mb-2">斜截式</h4>
                            <div id="slopeInterceptResult" class="text-lg font-mono">y = 2x + 1</div>
                            <div class="text-xs text-gray-500 mt-1">y = mx + b</div>
                        </div>
                        
                        <div class="border border-gray-200 rounded-lg p-4 hover:border-primary/50 transition-colors">
                            <h4 class="font-medium text-primary mb-2">点斜式</h4>
                            <div id="pointSlopeResult" class="text-lg font-mono">y - 3 = 2(x - 1)</div>
                            <div class="text-xs text-gray-500 mt-1">y - y₀ = m(x - x₀)</div>
                        </div>
                        
                        <div class="border border-gray-200 rounded-lg p-4 hover:border-primary/50 transition-colors">
                            <h4 class="font-medium text-primary mb-2">两点式</h4>
                            <div id="twoPointsResult" class="text-lg font-mono">(y-3)/2 = (x-1)/1</div>
                            <div class="text-xs text-gray-500 mt-1">(y-y₁)/(y₂-y₁) = (x-x₁)/(x₂-x₁)</div>
                        </div>
                        
                        <div class="border border-gray-200 rounded-lg p-4 hover:border-primary/50 transition-colors">
                            <h4 class="font-medium text-primary mb-2">截距式</h4>
                            <div id="interceptResult" class="text-lg font-mono">x/(-0.5) + y/1 = 1</div>
                            <div class="text-xs text-gray-500 mt-1">x/a + y/b = 1</div>
                        </div>
                        
                        <div class="border border-gray-200 rounded-lg p-4 hover:border-primary/50 transition-colors">
                            <h4 class="font-medium text-primary mb-2">点方向式</h4>
                            <div id="directionResult" class="text-lg font-mono">(x-1)/1 = (y-3)/2</div>
                            <div class="text-xs text-gray-500 mt-1">(x-x₀)/u = (y-y₀)/v</div>
                        </div>
                        
                        <div class="border border-gray-200 rounded-lg p-4 hover:border-primary/50 transition-colors">
                            <h4 class="font-medium text-primary mb-2">点法向式</h4>
                            <div id="normalResult" class="text-lg font-mono">2(x-1) - (y-3) = 0</div>
                            <div class="text-xs text-gray-500 mt-1">a(x-x₀) + b(y-y₀) = 0</div>
                        </div>
                        
                        <div class="border border-gray-200 rounded-lg p-4 hover:border-primary/50 lg:col-span-2 transition-colors">
                            <h4 class="font-medium text-primary mb-2">一般式</h4>
                            <div id="generalResult" class="text-lg font-mono">2x - y + 1 = 0</div>
                            <div class="text-xs text-gray-500 mt-1">Ax + By + C = 0</div>
                        </div>
                    </div>
                    
                    <!-- 关键参数 -->
                    <div class="mt-6 grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
                        <div class="bg-gray-50 rounded-lg p-3 text-center">
                            <div class="text-xs text-gray-500 mb-1">斜率</div>
                            <div id="slopeResult" class="font-semibold">2</div>
                        </div>
                        <div class="bg-gray-50 rounded-lg p-3 text-center">
                            <div class="text-xs text-gray-500 mb-1">x截距</div>
                            <div id="xInterceptResult" class="font-semibold">-0.5</div>
                        </div>
                        <div class="bg-gray-50 rounded-lg p-3 text-center">
                            <div class="text-xs text-gray-500 mb-1">y截距</div>
                            <div id="yInterceptResult" class="font-semibold">1</div>
                        </div>
                        <div class="bg-gray-50 rounded-lg p-3 text-center">
                            <div class="text-xs text-gray-500 mb-1">倾斜角</div>
                            <div id="angleResult" class="font-semibold">63.4°</div>
                        </div>
                        <div class="bg-gray-50 rounded-lg p-3 text-center">
                            <div class="text-xs text-gray-500 mb-1">方向向量</div>
                            <div id="directionVectorResult" class="font-semibold">(1, 2)</div>
                        </div>
                        <div class="bg-gray-50 rounded-lg p-3 text-center">
                            <div class="text-xs text-gray-500 mb-1">法向量</div>
                            <div id="normalVectorResult" class="font-semibold">(2, -1)</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 公式参考区域 -->
        <section id="formulas" class="mt-12 bg-white rounded-lg p-6 card-shadow">
            <h3 class="text-lg font-semibold mb-6 flex items-center">
                <i class="fa fa-book text-primary mr-2"></i>
                直线方程公式参考
            </h3>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="border-l-4 border-primary pl-4">
                    <h4 class="font-medium mb-2">斜截式</h4>
                    <p class="text-secondary mb-2">y = mx + b</p>
                    <p class="text-sm text-gray-600">m: 斜率, b: y轴截距</p>
                    <p class="text-sm text-gray-600 mt-1">适用：非垂直直线</p>
                </div>
                
                <div class="border-l-4 border-primary pl-4">
                    <h4 class="font-medium mb-2">点斜式</h4>
                    <p class="text-secondary mb-2">y - y₀ = m(x - x₀)</p>
                    <p class="text-sm text-gray-600">m: 斜率, (x₀,y₀): 直线上一点</p>
                    <p class="text-sm text-gray-600 mt-1">适用：非垂直直线</p>
                </div>
                
                <div class="border-l-4 border-primary pl-4">
                    <h4 class="font-medium mb-2">两点式</h4>
                    <p class="text-secondary mb-2">(y-y₁)/(y₂-y₁) = (x-x₁)/(x₂-x₁)</p>
                    <p class="text-sm text-gray-600">(x₁,y₁), (x₂,y₂): 直线上两点</p>
                    <p class="text-sm text-gray-600 mt-1">适用：非垂直、非水平直线</p>
                </div>
                
                <div class="border-l-4 border-primary pl-4">
                    <h4 class="font-medium mb-2">截距式</h4>
                    <p class="text-secondary mb-2">x/a + y/b = 1</p>
                    <p class="text-sm text-gray-600">a: x轴截距, b: y轴截距</p>
                    <p class="text-sm text-gray-600 mt-1">适用：不经过原点的直线</p>
                </div>
                
                <div class="border-l-4 border-primary pl-4">
                    <h4 class="font-medium mb-2">点方向式</h4>
                    <p class="text-secondary mb-2">(x-x₀)/u = (y-y₀)/v</p>
                    <p class="text-sm text-gray-600">(x₀,y₀): 定点, (u,v): 方向向量</p>
                    <p class="text-sm text-gray-600 mt-1">适用：所有直线（u,v不同时为0）</p>
                </div>
                
                <div class="border-l-4 border-primary pl-4">
                    <h4 class="font-medium mb-2">点法向式</h4>
                    <p class="text-secondary mb-2">a(x-x₀) + b(y-y₀) = 0</p>
                    <p class="text-sm text-gray-600">(x₀,y₀): 定点, (a,b): 法向量</p>
                    <p class="text-sm text-gray-600 mt-1">适用：所有直线（a,b不同时为0）</p>
                </div>
                
                <div class="border-l-4 border-primary pl-4">
                    <h4 class="font-medium mb-2">一般式</h4>
                    <p class="text-secondary mb-2">Ax + By + C = 0</p>
                    <p class="text-sm text-gray-600">A,B不同时为0</p>
                    <p class="text-sm text-gray-600 mt-1">适用：所有直线</p>
                </div>
                
                <div class="border-l-4 border-primary pl-4">
                    <h4 class="font-medium mb-2">垂直/水平直线</h4>
                    <p class="text-secondary mb-2">x = a (垂直), y = b (水平)</p>
                    <p class="text-sm text-gray-600">a: x轴截距, b: y轴截距</p>
                    <p class="text-sm text-gray-600 mt-1">垂直直线斜率不存在</p>
                </div>
            </div>
        </section>
    </main>

    <!-- 页脚 -->
    <footer class="bg-dark text-white py-8 mt-12">
        <div class="container mx-auto px-4 text-center">
            <p class="mb-2">直线方程可视化与代数转换工具</p>
            <p class="text-sm text-gray-400">© 2025 <a href="https://sqj.pages.dev" target="_blank" class="text-primary hover:text-primary/80 transition-colors text-sm">SQJ</a> | 支持所有常见直线方程形式转换</p>
            
        </div>
    </footer>

    <!-- 引入JS文件 -->
    <script src="script.js"></script>
</body>
</html>